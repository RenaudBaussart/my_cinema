CREATE TABLE rooms(
   id INT,
   name VARCHAR(100) NOT NULL,
   capacity INT NOT NULL,
   type VARCHAR(100),
   active TINYINT(1) NOT NULL,
   created_at DATETIME,
   updated_at DATETIME,
   PRIMARY KEY(id)
);

CREATE TABLE movies(
   id INT,
   title VARCHAR(100) NOT NULL,
   description VARCHAR(500),
   duration INT NOT NULL,
   release_year INT NOT NULL,
   genre VARCHAR(100),
   director VARCHAR(100),
   create_at DATETIME,
   updated_at DATETIME,
   PRIMARY KEY(id)
);

CREATE TABLE screenings(
   id INT,
   start_time DATETIME NOT NULL,
   created_at DATETIME,
   id_room_id INT NOT NULL,
   id_movie_id INT NOT NULL,
   PRIMARY KEY(id),
   FOREIGN KEY(id_room_id) REFERENCES rooms(id),
   FOREIGN KEY(id_movie_id) REFERENCES movies(id)
);


-- Seeding des salles
INSERT INTO rooms (name, capacity, type, active) VALUES 
('Salle IMAX 1', 250, 'IMAX', 1),
('Salle 3D Luxe', 100, '3D', 1),
('Petite Salle Standard', 50, 'Standard', 1);

-- Seeding des films
INSERT INTO movies (title, description, duration, release_year, genre, director) VALUES 
('Inception', 'Un voleur spécialisé dans l extraction...', 148, 2010, 'Sci-Fi', 'Christopher Nolan'),
('Avatar 2', 'L histoire de la famille Sully...', 192, 2022, 'Aventure', 'James Cameron');

-- Seeding des séances
INSERT INTO screenings (movie_id, room_id, start_time) VALUES 
(1, 1, '2026-02-01 20:30:00'),
(2, 2, '2026-02-01 14:00:00');
